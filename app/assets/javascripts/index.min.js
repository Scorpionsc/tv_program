!function(){$(function(){$(".site").each(function(){new n($(this))})});var n=function(n){var i=n,o=i.find(".site__top"),t=500,c=function(){o.on({click:function(){return a(),!1}}),$(window).on({scroll:function(){var n=$(this),i=n.height(),t=n.scrollTop();t>2*i?o.addClass("active"):o.removeClass("active")}})},a=function(){$("html, body").animate({scrollTop:0},t)},e=function(){c()};e()}}();
"use strict";!function(){$(function(){$(".tvShow").each(function(){new t($(this))})});var t=function(t){var a=t,e=$(".tvShow-lang select"),n=a.find(".tvShow__date"),i=a.find(".tvShow__list"),o=$(".tvShow-date"),s=e.val(),r=153318495,c="http://mysite.com/mypic.jpg",l=$(".site__title"),u=function(){o.on({change:function(){h()}}),e.on({change:function(){s=$(this).val(),$(this).parent().find("span").text(s),h()}}),$(".tvShow__title").on({click:function(){console.log(1e3),_()}})},v=function(){u(),p(),d(),m(),g()},p=function(){o.datepicker({dateFormat:"yy-mm-dd"})},d=function(){VK.init({apiId:r})},_=function(){html2canvas(i[0],{onrendered:function(t){console.log(t.toDataURL()),$("body").append('<img src="'+t.toDataURL()+'">')}})},h=function(){var t="1plus1",a=o.val(),e=$(".tvShow__list");$.ajax({url:"https://api.ovva.tv/v2/"+s+"/tvguide/"+t+"/"+a,dataType:"json",type:"get",success:function(t){if(t.error)alert(t.error);else{var a=o.val().split("-");n.text(a[2]+"."+a[1]+"."+a[0]),$(".tvShow__list > *").remove(),m();for(var i=t.data.programs.length,s=0;s<i;s++){var r=1e3*t.data.programs[s].realtime_begin,c=t.data.programs[s].subtitle,l=t.data.programs[s].title,u=new Date(r),v=u.getHours(),p=u.getMinutes(),d="";v<10&&(v="0"+v),p<10&&(p="0"+p),t.data.programs[s].is_on_the_air&&(d="active"),e.append('<div class="tvShow__item '+d+'"><img class="tvShow__item-thumbnail" src="'+t.data.programs[s].image.preview+'" alt=""><div class="tvShow__item-description"><strong class="tvShow__item-time">'+v+":"+p+'</strong><span class="tvShow__item-title">'+l+'</span><span class="tvShow__item-subtitle">'+c+"</span></div></div>"),d=""}}},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},m=function(){switch(s){case"ua":l.text("TV програма");break;case"ru":l.text("TV программа")}},g=function(){$(".site__header-column_buttons").append(VK.Share.button({title:"1+1 program",description:"Программа телепередач на сегодня",image:c,noparse:!0},{type:"custom",text:'<button class="sharing"></button>'}))};v()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS50dlNob3cuanMiXSwibmFtZXMiOlsiJCIsImVhY2giLCJTaXRlIiwidGhpcyIsIm9iaiIsIl9vYmoiLCJfdG9wQnRuIiwiZmluZCIsIl9zY3JvbGxEdXJhdGlvbiIsIl9hZGRFdmVudHMiLCJvbiIsImNsaWNrIiwiX3Njcm9sbFRvcCIsIndpbmRvdyIsInNjcm9sbCIsImN1ckVsZW0iLCJ3aW5IZWlnaHQiLCJoZWlnaHQiLCJzY3JvbGxWYWx1ZSIsInNjcm9sbFRvcCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRlIiwiX2luaXQiLCJUVlNob3ciLCJfbGFuZ1NlbGVjdCIsIl9vYmpEYXRlVGl0bGUiLCJfdHZQcm9ncmFtIiwiX2RhdGUiLCJfbGFuZyIsInZhbCIsIl9teVZLSUQiLCJfc2hhcmluZ0ltYWdlIiwiX3NpdGVUaXRsZSIsImNoYW5nZSIsIl9zZW5kQWpheCIsInBhcmVudCIsInRleHQiLCJjb25zb2xlIiwibG9nIiwiX21ha2VQcmludCIsIl9jb25zdHJ1Y3RvciIsIl9pbml0RGF0ZVBpY2tlciIsIl9pbml0VksiLCJfc2l0ZVRpdGxlQ2hhbmdlIiwiX2FkZFNoYXJlZEJ1dHRvbiIsImRhdGVwaWNrZXIiLCJkYXRlRm9ybWF0IiwiVksiLCJpbml0IiwiYXBpSWQiLCJodG1sMmNhbnZhcyIsIm9ucmVuZGVyZWQiLCJjYW52YXMiLCJ0b0RhdGFVUkwiLCJhcHBlbmQiLCJjaGFubmVsIiwiZGF5IiwicmVzdWx0IiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwidHlwZSIsInN1Y2Nlc3MiLCJtc2ciLCJlcnJvciIsImFsZXJ0IiwiZGF0ZUFycmF5Iiwic3BsaXQiLCJyZW1vdmUiLCJsZW5ndGhUVlNob3ciLCJkYXRhIiwicHJvZ3JhbXMiLCJsZW5ndGgiLCJpIiwidGltZXN0YW1wIiwicmVhbHRpbWVfYmVnaW4iLCJzdWJ0aXRsZSIsInRpdGxlIiwiVFZkYXRlIiwiRGF0ZSIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsImlzT25UaGVBaXIiLCJpc19vbl90aGVfYWlyIiwiaW1hZ2UiLCJwcmV2aWV3IiwiWE1MSHR0cFJlcXVlc3QiLCJzdGF0dXNUZXh0IiwiU2hhcmUiLCJidXR0b24iLCJkZXNjcmlwdGlvbiIsIm5vcGFyc2UiXSwibWFwcGluZ3MiOiJDQUFBLFdBRUlBLEVBQUUsV0FFRUEsRUFBRSxTQUFTQyxLQUFNLFdBQ2IsR0FBSUMsR0FBTUYsRUFBRUcsVUFLcEIsSUFBSUQsR0FBTyxTQUFTRSxHQUdoQixHQUFJQyxHQUFPRCxFQUNQRSxFQUFVRCxFQUFLRSxLQUFNLGNBQ3JCQyxFQUFrQixJQUdsQkMsRUFBYSxXQUVUSCxFQUFRSSxJQUNKQyxNQUFTLFdBRUwsTUFEQUMsTUFDTyxLQUlmWixFQUFHYSxRQUFTSCxJQUNSSSxPQUFVLFdBQ04sR0FBSUMsR0FBVWYsRUFBR0csTUFDYmEsRUFBWUQsRUFBUUUsU0FDcEJDLEVBQWNILEVBQVFJLFdBRXJCRCxHQUFjLEVBQUVGLEVBQ2pCVixFQUFRYyxTQUFVLFVBRWxCZCxFQUFRZSxZQUFhLGNBTXJDVCxFQUFhLFdBRVRaLEVBQUUsY0FBY3NCLFNBQVVILFVBQVcsR0FBS1gsSUFHOUNlLEVBQVEsV0FDSmQsSUFPUmM7QUN2RFIsY0FDQSxXQUVJdkIsRUFBRSxXQUVFQSxFQUFFLFdBQVdDLEtBQU0sV0FDZixHQUFJdUIsR0FBUXhCLEVBQUVHLFVBS3RCLElBQUlxQixHQUFTLFNBQVNwQixHQUdsQixHQUFJQyxHQUFPRCxFQUNQcUIsRUFBY3pCLEVBQUcsdUJBQ2pCMEIsRUFBZ0JyQixFQUFLRSxLQUFNLGlCQUMzQm9CLEVBQWF0QixFQUFLRSxLQUFNLGlCQUN4QnFCLEVBQVE1QixFQUFHLGdCQUNYNkIsRUFBUUosRUFBWUssTUFDcEJDLEVBQVUsVUFDVkMsRUFBZ0IsOEJBQ2hCQyxFQUFhakMsRUFBRyxnQkFHaEJTLEVBQWEsV0FFVG1CLEVBQU1sQixJQUNGd0IsT0FBVSxXQUNOQyxPQUlSVixFQUFZZixJQUNSd0IsT0FBVSxXQUNOTCxFQUFRN0IsRUFBR0csTUFBTzJCLE1BRWxCOUIsRUFBR0csTUFBT2lDLFNBQVM3QixLQUFNLFFBQVM4QixLQUFNUixHQUN4Q00sT0FLUm5DLEVBQUcsa0JBQW1CVSxJQUNsQkMsTUFBTyxXQUNIMkIsUUFBUUMsSUFBSSxLQUNaQyxRQUtaQyxFQUFlLFdBQ1hoQyxJQUNBaUMsSUFDQUMsSUFDQUMsSUFDQUMsS0FFSkgsRUFBa0IsV0FDZGQsRUFBTWtCLFlBQWFDLFdBQVksY0FFbkNKLEVBQVUsV0FDTkssR0FBR0MsTUFDQ0MsTUFBT25CLEtBR2ZTLEVBQWEsV0FFVFcsWUFBYXhCLEVBQVksSUFFckJ5QixXQUFZLFNBQVVDLEdBRWxCZixRQUFRQyxJQUFLYyxFQUFPQyxhQUVwQnRELEVBQUcsUUFBU3VELE9BQVEsYUFBZUYsRUFBT0MsWUFBZSxVQXNCckVuQixFQUFZLFdBQ1IsR0FBSXFCLEdBQVUsU0FDVkMsRUFBTTdCLEVBQU1FLE1BQ1o0QixFQUFTMUQsRUFBRyxnQkFFaEJBLEdBQUUyRCxNQUNFQyxJQUFLLDBCQUE0Qi9CLEVBQVEsWUFBYzJCLEVBQVUsSUFBTUMsRUFDdkVJLFNBQVUsT0FDVkMsS0FBTSxNQUNOQyxRQUFTLFNBQVdDLEdBRWhCLEdBQUtBLEVBQUlDLE1BQ0xDLE1BQU9GLEVBQUlDLFdBQ1IsQ0FDSCxHQUFJRSxHQUFZdkMsRUFBTUUsTUFBTXNDLE1BQU0sSUFFbEMxQyxHQUFjVyxLQUFNOEIsRUFBVSxHQUFLLElBQU1BLEVBQVUsR0FBSyxJQUFNQSxFQUFVLElBQ3hFbkUsRUFBRyxxQkFBc0JxRSxTQUV6QnpCLEdBSUEsS0FBTSxHQUZGMEIsR0FBZU4sRUFBSU8sS0FBS0MsU0FBU0MsT0FFM0JDLEVBQUksRUFBR0EsRUFBSUosRUFBY0ksSUFBTSxDQUNyQyxHQUFJQyxHQUFnRCxJQUFwQ1gsRUFBSU8sS0FBS0MsU0FBU0UsR0FBR0UsZUFDakNDLEVBQVdiLEVBQUlPLEtBQUtDLFNBQVNFLEdBQUdHLFNBQ2hDQyxFQUFRZCxFQUFJTyxLQUFLQyxTQUFTRSxHQUFHSSxNQUM3QkMsRUFBUyxHQUFJQyxNQUFNTCxHQUNuQk0sRUFBUUYsRUFBT0csV0FDZkMsRUFBVUosRUFBT0ssYUFDakJDLEVBQWEsRUFFWkosR0FBUSxLQUNUQSxFQUFRLElBQU1BLEdBR2JFLEVBQVUsS0FDWEEsRUFBVSxJQUFNQSxHQUdmbkIsRUFBSU8sS0FBS0MsU0FBU0UsR0FBR1ksZ0JBQ3RCRCxFQUFhLFVBR2pCM0IsRUFBT0gsT0FBUSw0QkFBOEI4QixFQUFhLDhDQUNSckIsRUFBSU8sS0FBS0MsU0FBU0UsR0FBR2EsTUFBTUMsUUFBVSxvRkFFNUNQLEVBQVEsSUFBTUUsRUFBVSw2Q0FDekJMLEVBQVEsOENBQ0xELEVBQVcsdUJBSXhEUSxFQUFhLE1BS3pCcEIsTUFBTyxTQUFXd0IsR0FDb0IsU0FBN0JBLEVBQWVDLFlBQ2hCeEIsTUFBTyxnQkFLdkJ0QixFQUFtQixXQUVmLE9BQVNmLEdBQ0wsSUFBSyxLQUNESSxFQUFXSSxLQUFNLGNBQ2pCLE1BQ0osS0FBSyxLQUNESixFQUFXSSxLQUFNLGtCQU03QlEsRUFBbUIsV0FDZjdDLEVBQUcsZ0NBQWlDdUQsT0FDaENQLEdBQUcyQyxNQUFNQyxRQUdEZCxNQUFPLGNBQ1BlLFlBQWEsbUNBQ2JOLE1BQU92RCxFQUNQOEQsU0FBUyxJQUdUaEMsS0FBTSxTQUNOekIsS0FBTSx1Q0FTMUJJIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oKXtcblxuICAgICQoZnVuY3Rpb24oKXtcblxuICAgICAgICAkKCcuc2l0ZScpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IFNpdGUoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgfSk7XG5cbiAgICB2YXIgU2l0ZSA9IGZ1bmN0aW9uKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3RvcEJ0biA9IF9vYmouZmluZCggJy5zaXRlX190b3AnICksXG4gICAgICAgICAgICBfc2Nyb2xsRHVyYXRpb24gPSA1MDA7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF90b3BCdG4ub24oe1xuICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJCggd2luZG93ICkub24oe1xuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5IZWlnaHQgPSBjdXJFbGVtLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFZhbHVlID0gY3VyRWxlbS5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzY3JvbGxWYWx1ZSA+IDIqd2luSGVpZ2h0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90b3BCdG4uYWRkQ2xhc3MoICdhY3RpdmUnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG9wQnRuLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCBfc2Nyb2xsRHVyYXRpb24pO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoZnVuY3Rpb24oKXtcblxuICAgICAgICAkKCcudHZTaG93JykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgVFZTaG93KCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIFRWU2hvdyA9IGZ1bmN0aW9uKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2xhbmdTZWxlY3QgPSAkKCAnLnR2U2hvdy1sYW5nIHNlbGVjdCcgKSxcbiAgICAgICAgICAgIF9vYmpEYXRlVGl0bGUgPSBfb2JqLmZpbmQoICcudHZTaG93X19kYXRlJyApLFxuICAgICAgICAgICAgX3R2UHJvZ3JhbSA9IF9vYmouZmluZCggJy50dlNob3dfX2xpc3QnICksXG4gICAgICAgICAgICBfZGF0ZSA9ICQoICcudHZTaG93LWRhdGUnICksXG4gICAgICAgICAgICBfbGFuZyA9IF9sYW5nU2VsZWN0LnZhbCgpLFxuICAgICAgICAgICAgX215VktJRCA9IDE1MzMxODQ5NSxcbiAgICAgICAgICAgIF9zaGFyaW5nSW1hZ2UgPSAnaHR0cDovL215c2l0ZS5jb20vbXlwaWMuanBnJyxcbiAgICAgICAgICAgIF9zaXRlVGl0bGUgPSAkKCAnLnNpdGVfX3RpdGxlJyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfZGF0ZS5vbih7XG4gICAgICAgICAgICAgICAgICAgICdjaGFuZ2UnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZW5kQWpheCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfbGFuZ1NlbGVjdC5vbih7XG4gICAgICAgICAgICAgICAgICAgICdjaGFuZ2UnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sYW5nID0gJCggdGhpcyApLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCB0aGlzICkucGFyZW50KCkuZmluZCggJ3NwYW4nICkudGV4dCggX2xhbmcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZW5kQWpheCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgICQoICcudHZTaG93X190aXRsZScgKS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbWFrZVByaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2luaXREYXRlUGlja2VyKCk7XG4gICAgICAgICAgICAgICAgX2luaXRWSygpO1xuICAgICAgICAgICAgICAgIF9zaXRlVGl0bGVDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICBfYWRkU2hhcmVkQnV0dG9uKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXREYXRlUGlja2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2RhdGUuZGF0ZXBpY2tlcih7IGRhdGVGb3JtYXQ6ICd5eS1tbS1kZCcgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRWSyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFZLLmluaXQoe1xuICAgICAgICAgICAgICAgICAgICBhcGlJZDogX215VktJRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tYWtlUHJpbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBodG1sMmNhbnZhcyggX3R2UHJvZ3JhbVsgMCBdLCB7XG5cbiAgICAgICAgICAgICAgICAgICAgb25yZW5kZXJlZDogZnVuY3Rpb24oIGNhbnZhcyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGNhbnZhcy50b0RhdGFVUkwoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCAnYm9keScgKS5hcHBlbmQoICc8aW1nIHNyYz1cIicgKyBjYW52YXMudG9EYXRhVVJMKCkgICsgJ1wiPicgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5jYXJ0SW1nID0gJCggJzxkaXYgY2xhc3M9XCJjYXJ0LWltZ1wiPjxpbWcgc3JjPVwiJyArIGNhbnZhcy50b0RhdGFVUkwoKSAgKyAnXCI+PC9kaXY+JyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5jYXJ0SW1nLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRvcDogbGlzdC5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGVmdDpsaXN0Lm9mZnNldCgpLmxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoICdib2R5JyApLmFwcGVuZCggc2VsZi5jYXJ0SW1nICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCggJ2JvZHksIGh0bWwnICkuc2Nyb2xsVG9wKCBjdXJTY3JvbGwgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuY2FydEltZy5mYWRlVG8oMzAwLDEsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGlzdC5maW5kKCAnbGkgPiAqJyApLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKCBjaGVjayApe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBtb3ZlSW1nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NlbmRBamF4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSAnMXBsdXMxJyxcbiAgICAgICAgICAgICAgICAgICAgZGF5ID0gX2RhdGUudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICQoICcudHZTaG93X19saXN0JyApO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkub3Z2YS50di92Mi8nICsgX2xhbmcgKyAnL3R2Z3VpZGUvJyArIGNoYW5uZWwgKyAnLycgKyBkYXksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbXNnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1zZy5lcnJvciApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggbXNnLmVycm9yIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVBcnJheSA9IF9kYXRlLnZhbCgpLnNwbGl0KCctJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqRGF0ZVRpdGxlLnRleHQoIGRhdGVBcnJheVsyXSArICcuJyArIGRhdGVBcnJheVsxXSArICcuJyArIGRhdGVBcnJheVswXSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoICcudHZTaG93X19saXN0ID4gKicgKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlVGl0bGVDaGFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGhUVlNob3cgPSBtc2cuZGF0YS5wcm9ncmFtcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBsZW5ndGhUVlNob3c7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVzdGFtcCA9IG1zZy5kYXRhLnByb2dyYW1zW2ldLnJlYWx0aW1lX2JlZ2luKjEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZSA9IG1zZy5kYXRhLnByb2dyYW1zW2ldLnN1YnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBtc2cuZGF0YS5wcm9ncmFtc1tpXS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRWZGF0ZSA9IG5ldyBEYXRlKCB0aW1lc3RhbXAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gVFZkYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gVFZkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25UaGVBaXIgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGhvdXJzIDwgMTAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9ICcwJyArIGhvdXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtaW51dGVzIDwgMTAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gJzAnICsgbWludXRlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbXNnLmRhdGEucHJvZ3JhbXNbaV0uaXNfb25fdGhlX2FpciApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25UaGVBaXIgPSAnYWN0aXZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCggJzxkaXYgY2xhc3M9XCJ0dlNob3dfX2l0ZW0gJyArIGlzT25UaGVBaXIgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBjbGFzcz1cInR2U2hvd19faXRlbS10aHVtYm5haWxcIiBzcmM9XCInICsgbXNnLmRhdGEucHJvZ3JhbXNbaV0uaW1hZ2UucHJldmlldyArICdcIiBhbHQ9XCJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidHZTaG93X19pdGVtLWRlc2NyaXB0aW9uXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN0cm9uZyBjbGFzcz1cInR2U2hvd19faXRlbS10aW1lXCI+JyArIGhvdXJzICsgJzonICsgbWludXRlcyArICc8L3N0cm9uZz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInR2U2hvd19faXRlbS10aXRsZVwiPicgKyB0aXRsZSArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0dlNob3dfX2l0ZW0tc3VidGl0bGVcIj4nICsgc3VidGl0bGUgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uVGhlQWlyID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggXCJFUlJPUiEhIVwiICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2l0ZVRpdGxlQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCBfbGFuZyApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndWEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGVUaXRsZS50ZXh0KCAnVFYg0L/RgNC+0LPRgNCw0LzQsCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdydSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLnRleHQoICdUViDQv9GA0L7Qs9GA0LDQvNC80LAnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkU2hhcmVkQnV0dG9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCggJy5zaXRlX19oZWFkZXItY29sdW1uX2J1dHRvbnMnICkuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICBWSy5TaGFyZS5idXR0b24oXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXJsOiAnaHR0cDovL215c2l0ZS5jb20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnMSsxIHByb2dyYW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn0J/RgNC+0LPRgNCw0LzQvNCwINGC0LXQu9C10L/QtdGA0LXQtNCw0Ycg0L3QsCDRgdC10LPQvtC00L3RjycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IF9zaGFyaW5nSW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9wYXJzZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnPGJ1dHRvbiBjbGFzcz1cInNoYXJpbmdcIj48L2J1dHRvbj4nfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcbiAgICB9O1xuXG59ICkoKTsiXX0=
